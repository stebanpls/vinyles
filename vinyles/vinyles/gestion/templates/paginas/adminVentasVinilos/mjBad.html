{% extends "plantillaAdministrador.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/administrador/styleAdPro.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock extra_css %}

{% block titulo %} Vinyles - √Ålbumes {% endblock titulo %}

{% block contenido %} 
<div class="textos">
    <h1 class="bienvenida">Gestion de productos</h1>
    <p class="bien">Edita la informaci√≥n de tus productos. Actualiza detalles, precios y m√°s, directamente desde esta secci√≥n.</p>
</div>

<section>
    <div class="guardar-global">
        <div class = "Botonsito"><button onclick="guardarCambios()" id="guardarBtn" class="button-guardar">Guardar</button></div>
        <button onclick="activarEdicion()" class="button-editar">Editar informaci√≥n</button>
    </div>

    <div class = "cuadro">
        <div class ="contenedor">
            <img src="{%static 'images/bad.jpg' %}" alt="Snow" >
        </div>
        
        <div class = "info">
            <div class= "titulo">
                <p class="editable" contenteditable="false">Bad</p>
            </div>

            <div class = "precio">
                <p>Precio:</p>
            </div>

            <div class = "valor">
                <p class="editable" contenteditable="false">$120.000</p>
            </div>

            <div>
                <button class="button" onclick="marcarNoDisponible()">No disponible</button>
                <div id="mensajeNoDisponible" class = "NoDis"></div>
            </div>

            <div>
                <button class="button2" onclick="Disponible()">Disponible</button>
                <div id="Disponible" class = "Dis"></div>
            </div>
        </div>
    </div>
    <div class="detalles">
        <div class="album">
            <details>
                <summary class="acor">Informaci√≥n del √°lbum</summary>
                <p>
                    <span class="etiqueta">G√©nero:</span><span class="dato editable" contenteditable="false">Pop</span>
                </p>
                <p>
                    <span class="etiqueta">Lanzamiento:</span><span class="dato editable" contenteditable="false">31 de agosto de 1987</span>
                </p>
                <p>
                    <span class="etiqueta">Sello discogr√°fico:</span><span class="dato editable" contenteditable="false">Epic Records</span>
                </p>
                <p>
                    <span class="etiqueta">Productor(es):</span><span class="dato editable" contenteditable="false">Quincy Jones, Michael Jackson</span>
                </p>
            </details>
        </div>
    
        <div class="artista">
            <details>
                <summary class="acor">Informaci√≥n del artista</summary>
                <p class="editable" contenteditable="false">
                    Jackson se reinvento lanzando el album Bad que es uno de los albumes mas vendidos de todos los tiempos, con mas de 35 millones de copias vendidas en todo el mundo.
                </p>
            </details>
        </div>

        <div class="canciones">
            <details>
                <summary class="acor">
                    Listado de canciones 
                </summary>
                <div class="listap">
                    <ul class="lista-canciones editable" contenteditable="false">
                        <li><i class="fa-solid fa-music"></i> I Just Can't Stop Loving You</li>
                        <li><i class="fa-solid fa-music"></i> Bad</li>
                        <li><i class="fa-solid fa-music"></i> The Way You Make Me Feel</li>
                        <li><i class="fa-solid fa-music"></i> Man In The Mirror</li>
                        <li><i class="fa-solid fa-music"></i> Dirty Diana</li>
                        <li><i class="fa-solid fa-music"></i> Another Part Of Me</li>
                        <li><i class="fa-solid fa-music"></i> Smooth Criminal</li>
                        <li><i class="fa-solid fa-music"></i> Leave Me Alone</li>
                        <li><i class="fa-solid fa-music"></i> Liberian Girl</li>
                        <li><i class="fa-solid fa-music"></i> Speed Demon</li>
                    </ul>
                </div>
                
            </details>
        </div>
        
        <div class="comentarios">
            <details>
                <summary class="acor">Rese√±as y comentarios</summary>
                <div class="comentario">
                    <div class="avatar">
                        <img src="{%static 'images/fotosusuario/lauragomez.jpg' %}" alt="Avatar de laura">
                        
                    </div>
                    <div class="contenido-comentario">
                        <a href = "{% url "lauraG" %}">laura Gomez</a>
                        <p class="texto">
                            ¬°Excelente calidad y servicio!
                        </p>
                    </div>
                </div>
            </details>
        </div>
    </div>
</section>

<script>
    function activarEdicion() {
        const campos = document.querySelectorAll(".editable");
        campos.forEach(campo => {
            campo.contentEditable = true;
            campo.style.border = "1px dashed #ccc";
        });
    }
    
    function guardarCambios() {
        const campos = document.querySelectorAll(".editable");
        campos.forEach(campo => {
            campo.contentEditable = false;
            campo.style.border = "none";
        });
    
        // Mensaje de confirmaci√≥n
        const mensaje = document.createElement("p");
        mensaje.textContent = "‚úÖ";
        mensaje.classList.add("mensaje-guardado");
        mensaje.style.color = "green";
        mensaje.style.fontWeight = "bold";
    
        const contenedor = document.querySelector(".guardar-global");
        contenedor.appendChild(mensaje);
    
        setTimeout(() => mensaje.remove(), 3000);
    }
    
    // üëá ESTA ES LA FUNCI√ìN QUE MARCA COMO NO DISPONIBLE
    function marcarNoDisponible() {
        const contenedor = document.getElementById("mensajeNoDisponible");
    
        contenedor.textContent = "üì¶ Marcado como no disponible";
        contenedor.style.color = "red";
        contenedor.style.fontWeight = "bold";
        contenedor.style.marginTop = "10px";
    
        setTimeout(() => contenedor.textContent = "", 3000);
    }

    function Disponible() {
        const contenedor = document.getElementById("Disponible");
    
        contenedor.textContent = "‚úÖ Disponible";
        contenedor.style.color = "green";
        contenedor.style.fontWeight = "bold";
        contenedor.style.marginTop = "10px";
    
        setTimeout(() => contenedor.textContent = "", 3000);
    }
    </script>
{% endblock contenido %}

{% block pie %}

{% endblock pie %}