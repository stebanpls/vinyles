{% extends "plantillas/plantilla_publico.html" %}
{% load static %}

{% block extra_css %} 
    <link rel="stylesheet" href="{% static 'css/paginas/publico/style_login.css' %}">
{% endblock extra_css %}

{% block titulo %} Vinyles - Inicio {% endblock titulo %}

{% block contenido %}
<div class="login-container">
    <div class="login-form">
        <div class="logo-container">
            <img src="{% static 'images/vinilo.ico' %}" alt="Logo">
        </div>
        <h2>Iniciar Sesión</h2>
        <form action="{% url 'pub_login' %}" method="post">
            {% csrf_token %}

            {# Campos ocultos para el álbum (tomados de los parámetros GET) #}
            <input type="hidden" name="album_name" value="{{ request.GET.album_name }}">
            <input type="hidden" name="artist" value="{{ request.GET.artist }}">
            <input type="hidden" name="price" value="{{ request.GET.price }}">
            <input type="hidden" name="image" value="{{ request.GET.image }}">

            {# Campo oculto para la URL 'next' #}
            {% if next_url %}<input type="hidden" name="next" value="{{ next_url }}">{% endif %}

            <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input
                    type="email"
                    class="form-control"
                    name="email"
                    id="email"
                    aria-describedby="emailHelpId"
                    placeholder="abc@mail.com"
                />
            </div>
            
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" aria-label="Contraseña" required>
            </div>
            <p><a href="{% url 'pub_codigo_recuperacion' %}">¿Olvidaste tu Contraseña?</a></p>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
            </div>
        </form>
        <p>
            ¿No tienes una cuenta? <a href="{% url 'pub_registro' %}">Regístrate</a>
        </p>
{% endblock contenido %}

{# Asegúrate de que este div de cierre esté en el lugar correcto según tu diseño #}
{% block pie %}

{% endblock pie %}